(this.webpackJsonpimbdapp=this.webpackJsonpimbdapp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),i=a.n(r),l=(a(12),a(3)),o=a(1),s=(a(13),a(2)),m=a.n(s);a(15);var u=function(e){var t=e.title,a=e.onClickHandler,r=Object(n.useState)(null),i=Object(o.a)(r,2),l=i[0],s=i[1],u=Object(n.useState)("https://movie-database-imdb-alternative.p.rapidapi.com/?page=1&r=json&s=".concat(t)),d=Object(o.a)(u,2),v=d[0],p=d[1],f=Object(n.useCallback)((function(e){a(e)}),[a]);if(Object(n.useEffect)((function(){p("https://movie-database-imdb-alternative.p.rapidapi.com/?page=1&r=json&s=".concat(t))}),[t]),Object(n.useEffect)((function(){m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(v,{method:"GET",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"4d1910cdadmsh451bc57530aeb39p1a93ebjsn853bad1781c1"}}).then((function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(e.json());case 2:t=a.sent,s(t);case 4:case"end":return a.stop()}}))})).catch((function(e){console.log(new Error(e))}));case 1:case"end":return e.stop()}}))}),[v]),null!==l){if(l.hasOwnProperty("Error"))return c.a.createElement("p",null,"Find a movie...");var E=0,b=l.Search.map((function(e){var t=e.Title,a=e.Year,n=e.imdbID,r=e.Type,i=e.Poster,l="".concat(t,", ").concat(a,", ").concat(r),o="".concat(n," + ").concat(E);return E++,c.a.createElement("div",{className:"poster",key:o,onClick:function(){return f(n)}},c.a.createElement("div",{className:"overlay"},c.a.createElement("img",{src:i,alt:l}),c.a.createElement("a",{className:"link"},c.a.createElement("p",null,t),c.a.createElement("p",null,a))))}));return c.a.createElement("div",{className:"moviesList"},b)}return c.a.createElement("p",null,"Find a movie...")},d=a(4);a(16);var v=function(e){var t=e.movieId,a=e.isFav,r=e.isWatched,i=e.addToFav,l=e.addToWatched,s={"Internet Movie Database":["https://icons-for-free.com/iconfiles/png/512/films+imdb+internet+movie+database+movie+television+icon-1320192452769839815.png",0],"Rotten Tomatoes":["https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Rotten_Tomatoes.svg/1009px-Rotten_Tomatoes.svg.png",1],Metacritic:["https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Metacritic.svg/768px-Metacritic.svg.png",2]},u=Object(n.useState)({Title:"",Year:"",Rated:"",Released:"",Runtime:"",Genre:"",Director:"",Writer:"",Actors:"",Plot:"",Language:"",Country:"",Awards:"",Poster:"",Ratings:[{Source:"Internet Movie Database",Value:""},{Source:"Rotten Tomatoes",Value:""},{Source:"Metacritic",Value:""}],Metascore:"",imdbRating:"",imdbVotes:"",imdbID:"",Type:"",DVD:"",BoxOffice:"",Production:"",Website:"",Response:""}),v=Object(o.a)(u,2),p=v[0],f=v[1],E=Object(n.useCallback)((function(e){i(e)}),[i]),b=Object(n.useCallback)((function(e){l(e)}),[l]);Object(n.useEffect)((function(){m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://movie-database-imdb-alternative.p.rapidapi.com/?i=".concat(t,"&r=json"),{method:"GET",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"4d1910cdadmsh451bc57530aeb39p1a93ebjsn853bad1781c1"}}).then((function(e){var t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(e.json());case 2:t=a.sent,f(t);case 4:case"end":return a.stop()}}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}))}),[t]);var h=null!==p&&p.hasOwnProperty("Ratings")?p.Ratings.map((function(e){return c.a.createElement("div",{className:"ratingsInfo",key:"ratingsIcon".concat(s[e.Source][1])},c.a.createElement("img",{src:s[e.Source][0],alt:""}),c.a.createElement("span",null,e.Value))})):c.a.createElement("p",null,"No ratings available");return c.a.createElement("div",{className:"movieData"},c.a.createElement("div",{className:"gridPoster"},c.a.createElement("img",{src:p.Poster,alt:""}),c.a.createElement("div",{className:"watchFav"},c.a.createElement("div",{className:!0===r?"eyeIcon_select":"eyeIcon",onClick:function(){return b(t)}},c.a.createElement(d.b,null)),c.a.createElement("div",{className:!0===a?"heartIcon_select":"heartIcon",onClick:function(){return E(t)}},c.a.createElement(d.a,null)))),c.a.createElement("div",{className:"movieDetails"},c.a.createElement("h1",null,p.Title," (",p.Year,")"),c.a.createElement("p",{className:"movieRuntime"},p.Runtime),c.a.createElement("div",{className:"ratingsMovie"},h),c.a.createElement("p",{className:"moviePlot"},p.Plot),c.a.createElement("div",{className:"movieInfo"},c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Director: "),c.a.createElement("p",null,p.Director)),c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Writer: "),c.a.createElement("p",null,p.Writer)),c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Genre: "),c.a.createElement("p",null,p.Genre)),c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Country: "),c.a.createElement("p",null,p.Country)),c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Released: "),c.a.createElement("p",null,p.Released)),c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Rating: "),c.a.createElement("p",null,p.Rated)),c.a.createElement("div",{className:"movieInfoElem"},c.a.createElement("span",null,"Cast: "),c.a.createElement("p",null,p.Actors)))))};a(17);var p=function(e){var t=e.elements,a=e.favourites,n=e.watch,r=e.setFavs,i=e.setWatched,l=t.map((function(e){return c.a.createElement(v,{key:e,movieId:e,isFav:a.includes(e),isWatched:n.includes(e),addToWatched:i,addToFav:r})}));return c.a.createElement("div",{className:"moviesSet"},c.a.createElement("h2",null,"The amount of found titles: ",t.length),l)};a(18);var f=function(e){var t=e.onClickHandler,a=e.onChangeHandler,r=Object(n.useCallback)((function(e){t(e)}),[t]),i=Object(n.useCallback)((function(e){a(e)}),[a]);return c.a.createElement("nav",null,c.a.createElement("input",{type:"text",placeholder:"Type a title of a movie...",onChange:function(e){i(e.target.value)}}),c.a.createElement("ul",null,c.a.createElement("li",{onClick:function(){return r("favs")}},"Favourites"),c.a.createElement("li",{onClick:function(){return r("watched")}},"Watched"),c.a.createElement("li",{onClick:function(){return r("viewed")}},"Recently viewed")))};var E=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],v=Object(n.useState)(JSON.parse(localStorage.getItem("favs"))||[]),E=Object(o.a)(v,2),b=E[0],h=E[1],g=Object(n.useState)(JSON.parse(localStorage.getItem("watched"))||[]),j=Object(o.a)(g,2),O=j[0],w=j[1],k=Object(n.useState)([]),N=Object(o.a)(k,2),y=N[0],I=N[1],S=Object(n.useState)("search"),C=Object(o.a)(S,2),R=C[0],T=C[1];Object(n.useEffect)((function(){localStorage.setItem("favs",JSON.stringify(b))}),[b]),Object(n.useEffect)((function(){localStorage.setItem("watched",JSON.stringify(O))}),[O]);var x=function(e){d(e),I([e].concat(Object(l.a)(y))),T("moviePage")},W=function(e){O.includes(e)?w(O.filter((function(t){return t!==e}))):w([e].concat(Object(l.a)(O))),T(R)},P=function(e){b.includes(e)?h(b.filter((function(t){return t!==e}))):h([e].concat(Object(l.a)(b))),T(R)},D={favs:b,watched:O,viewed:y},F=function(){switch(R){case"search":return c.a.createElement(u,{title:a,onClickHandler:x});case"moviePage":return c.a.createElement(p,{elements:[m],favourites:b,watch:O,setFavs:P,setWatched:W});default:return c.a.createElement(p,{elements:D[R],favourites:b,watch:O,setFavs:P,setWatched:W})}}(),M=c.a.createElement("header",null,c.a.createElement(f,{onClickHandler:function(e){T(e)},onChangeHandler:function(e){r(e),d(""),T("search")}}));return c.a.createElement("div",{className:"App"},M,c.a.createElement("main",null,F))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[7,1,2]]]);
//# sourceMappingURL=main.4c0cff2a.chunk.js.map